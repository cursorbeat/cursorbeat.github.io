{"componentChunkName":"component---src-templates-blog-post-js","path":"/tutorials/OpenWrt","result":{"data":{"mdx":{"id":"36425415-e17c-5a20-9432-d5f2e103f177","excerpt":"I have used DD-WRT in the past with Linksys devices and found it very good.\nSo far I have used a Synology router as an access point - but I thought the next wifi solution should be based on open source software.\nThis idea was mainly inspired by the positive experience of using OPNSense with Dec740 as the main router&firewall - I love this device. \nThat's how I came upâ€¦","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"slug\": \"OpenWrt\",\n  \"title\": \"Wifi with OpenWrt\",\n  \"subtitle\": \"Banana Pi R3 as Wifi Access-Point\",\n  \"image\": \"OpenWrt-Argon-Theme-Screenshot.png\",\n  \"imageTitle\": \"Placeholder\",\n  \"imageAlt\": \"OpenWrt screenshot of the main page UI with Argon Theme\",\n  \"repo\": \"\",\n  \"liveLink\": \"\",\n  \"date\": \"2023-10-23T01:30:00-07:00\",\n  \"tags\": [\"OpenWrt\", \"Wifi\", \"OpenSource\"],\n  \"type\": \"tutorial\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"I have used DD-WRT in the past with Linksys devices and found it very good.\\nSo far I have used a Synology router as an access point - but I thought the next wifi solution should be based on open source software.\\nThis idea was mainly inspired by the positive experience of using OPNSense with Dec740 as the main router&firewall - I love this device.\\nThat's how I came up with the OSS Wifi counterpart \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://openwrt.org\"\n  }, \"OpenWrt\"), \".\"), mdx(\"h2\", null, \"Banana Pi R3\"), mdx(\"p\", null, \"Clearly one of the best Wifi OpenWrt solutions on the market is the self-build solution with a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://wiki.banana-pi.org/Banana_Pi_BPI-R3\"\n  }, \"Banana Pi R3\"), \" Board. This is available in complete sets on Aliexpress with great metal enclosures, antennas and everything required (may only a optional TTL USB adapter is missing).\"), mdx(\"p\", null, \"The Wifi power of this devices covers even professional requirements with 4x4 5ghz and 2.4ghz.\\nA powerful ARM CPU, 2GB RAM, 8GB MMC storage and 2SFP slots give a lot of room for a wide range of use-cases.\"), mdx(\"p\", null, \"If you want to wait \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://wiki.banana-pi.org/Banana_Pi_BPI-R4\"\n  }, \"Banana Pi R4\"), \" is also getting around next year - Wifi-7, 4GB RAM, 10Gbit SFP+, USB Power.\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"../Images/tutorials/OpenWrt/BananaPiR3-look-inside.jpeg\",\n    \"alt\": \"BananaPiR3 look inside\",\n    \"title\": \"BananaPiR3 look inside\"\n  })), mdx(\"h2\", null, \"Set-UP\"), mdx(\"p\", null, \"Here you can find working set-up notes collected from tutorial sources linked below - with those I got a good base installation on the BPI-R3. \"), mdx(\"p\", null, \"Best tutorials are those:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://wiki.banana-pi.org/Getting_Started_with_BPI-R3\"\n  }, \"https://wiki.banana-pi.org/Getting_Started_with_BPI-R3\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://openwrt.org/toh/sinovoip/bananapi_bpi_r3_v1.0_v1.1\"\n  }, \"https://openwrt.org/toh/sinovoip/bananapi_bpi_r3_v1.0_v1.1\"))), mdx(\"p\", null, \"OpenWrt is available as a stable version \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://firmware-selector.openwrt.org/?version=23.05.0&target=mediatek%2Ffilogic&id=bananapi_bpi-r3\"\n  }, \"23.05 at the moment of writing\"), \" which was used for this.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Unzip bananapi_bpi-r3-sdcard and write the image on a micro sd card using:\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"on linux: \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"dd if=openwrt-mediatek-filogic-bananapi_bpi-r3-sdcard.img of=/dev/( mmcblk_ OR sd_ )\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"on win: \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://sourceforge.net/projects/win32diskimager/\"\n  }, \"https://sourceforge.net/projects/win32diskimager/\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"on macOS: \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://etcher.balena.io\"\n  }, \"https://etcher.balena.io\")))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Insert the SD card into the bpi-r3\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"To install on NOR (32 MB) (optional):\", mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Set the boot switch as 1101 (up,up,down,up)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Connect power cord and wait boot (~20s)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"ssh the device and type:\\n\", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"fw_setenv bootcmd \\\"run nor_init ; env default bootcmd ; saveenv ; reset\\\"; reboot\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Wait reboot and nor flashing (~90s)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Disconnect power\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"To install on NAND (128 MB) (optional):\", mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Set the boot switch as 1111 (up,up,up,up)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Connect power cord and wait boot (~20s)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"ssh the device and type:\\n\", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"fw_setenv bootcmd \\\"run ubi_init ; env default bootcmd ; saveenv ; reset\\\"; reboot\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Wait reboot and NAND flashing (~90s)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Disconnect power\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"To install on eMMC (8192 MB) (optional):\", mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Set the boot switch as 1010 (up,down,up,down)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Connect power cord and wait boot (~20s)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"ssh the device and type:\\n\", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"fw_setenv bootcmd \\\"run emmc_init ; env default bootcmd ; saveenv ; reset\\\"; reboot\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Wait reboot and eMMC flashing (~90s)\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Disconnect power\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Set the boot switch to your favorite location\")))), mdx(\"p\", null, \"The images relies on \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.kernel.org/filesystems/f2fs.html\"\n  }, \"F2FS\"), \" filesystem.\"), mdx(\"p\", null, \"To create data partition and resize eMMC f2fs, boot on NOR(0000) or NAND(1010) and type (internet connection required):\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"sh\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-sh\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"opkg install cfdisk parted\\nparted /dev/mmcblk0 -- mkpart f2fs 768MiB -34s resizepart 5 768MiB resizepart 4 67.1M resizepart 3 12.6M \\n  # say F to fix gpt global size\\nreboot\\n\\n## optional increase the size of the partition /dev/mmcblk0p5 to the max by deleting /dev/mmcblk0p6 partition and resize with:\\ncfdisk /dev/mmcblk0\\n\\n## resize filesystem after:\\nmount /dev/mmcblk0p66 /mnt && umount /dev/mmcblk0p66 && resize.f2fs /dev/mmcblk0p66\\n\\n## Boot to MMC storage\"))), mdx(\"p\", null, \"Now boot on eMMC(0110) and check if it worked !\"), mdx(\"p\", null, \"Background: /dev/mmcblk0p66 is inside of /dev/mmcblk0p5.\"), mdx(\"h3\", null, \"OpenWrt The Argon Theme\"), mdx(\"p\", null, \"The \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/jerrykuku/luci-theme-argon\"\n  }, \"Argon theme\"), \" is the most beautiful looking one available atm of writing.\"), mdx(\"p\", null, \"For OpenWrt 23.05 you can just install it with those commands:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"sh\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-sh\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"opkg install luci-compat\\nopkg install luci-lib-ipkg\\nwget --no-check-certificate https://github.com/jerrykuku/luci-theme-argon/releases/download/v2.3.1/luci-theme-argon_2.3.1_all.ipk -O luci-theme-argon_2.3.1_all.ipk\\nopkg install luci-theme-argon*.ipk\"))), mdx(\"p\", null, \"Install the theme config menu \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"luci-app-argon-config\"), \" to be able to configure the Theme from OpenWrt Luci web UI:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"sh\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-sh\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, \"wget --no-check-certificate https://github.com/jerrykuku/luci-app-argon-config/releases/download/v0.9/luci-app-argon-config_0.9_all.ipk -O luci-app-argon-config_0.9_all.ipk\\nopkg install luci-app-argon-config*.ipk\"))));\n}\n;\nMDXContent.isMDXComponent = true;","timeToRead":2,"frontmatter":{"type":"tutorial","title":"Wifi with OpenWrt","slug":"OpenWrt","subtitle":"Banana Pi R3 as Wifi Access-Point","imageTitle":"Placeholder","imageAlt":"OpenWrt screenshot of the main page UI with Argon Theme","date":"2023-10-23T01:30:00-07:00","tags":["OpenWrt","Wifi","OpenSource"]}},"file":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/fbbb25a54463ddf2f0980fe44649171d/ccbf4/OpenWrt-Argon-Theme-Screenshot.png","srcSet":"/static/fbbb25a54463ddf2f0980fe44649171d/c6b30/OpenWrt-Argon-Theme-Screenshot.png 774w,\n/static/fbbb25a54463ddf2f0980fe44649171d/1c2dd/OpenWrt-Argon-Theme-Screenshot.png 1548w,\n/static/fbbb25a54463ddf2f0980fe44649171d/ccbf4/OpenWrt-Argon-Theme-Screenshot.png 3096w","sizes":"(min-width: 3096px) 3096px, 100vw"},"sources":[{"srcSet":"/static/fbbb25a54463ddf2f0980fe44649171d/ac767/OpenWrt-Argon-Theme-Screenshot.webp 774w,\n/static/fbbb25a54463ddf2f0980fe44649171d/eec27/OpenWrt-Argon-Theme-Screenshot.webp 1548w,\n/static/fbbb25a54463ddf2f0980fe44649171d/eac12/OpenWrt-Argon-Theme-Screenshot.webp 3096w","type":"image/webp","sizes":"(min-width: 3096px) 3096px, 100vw"}]},"width":3096,"height":2862}}}},"pageContext":{"id":"36425415-e17c-5a20-9432-d5f2e103f177","slug":"OpenWrt","imgUrl":"content/images/tutorials/OpenWrt/OpenWrt-Argon-Theme-Screenshot.png","imgRegEx":"/.*(OpenWrt/OpenWrt-Argon-Theme-Screenshot.png)$/"}},"staticQueryHashes":["1450885957","2812404218","3026797072"]}